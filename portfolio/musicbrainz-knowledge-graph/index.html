<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MusicBrainz Knowledge Graph | arthurhaas.github.io</title><meta name=keywords content="knowledge graph"><meta name=description content="Motivation The master&rsquo;s course &ldquo;Building and Mining Knowledge Graphs&rdquo; required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz&rsquo; postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project."><meta name=author content="Arthur"><link rel=canonical href=https://arthurhaas.github.io/portfolio/musicbrainz-knowledge-graph/><link crossorigin=anonymous href=/assets/css/stylesheet.min.e1aed7acf69d338b310ccd197719ef7a7d747001df7045f014fe3ff31980530b.css integrity="sha256-4a7XrPadM4sxDM0Zdxnven10cAHfcEXwFP4/8xmAUws=" rel="preload stylesheet" as=style><link rel=preload href=images/avatar.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://arthurhaas.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://arthurhaas.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://arthurhaas.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://arthurhaas.github.io/apple-touch-icon.png><link rel=mask-icon href=https://arthurhaas.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.110.0"><meta property="og:title" content="MusicBrainz Knowledge Graph"><meta property="og:description" content="Motivation The master&rsquo;s course &ldquo;Building and Mining Knowledge Graphs&rdquo; required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz&rsquo; postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project."><meta property="og:type" content="article"><meta property="og:url" content="https://arthurhaas.github.io/portfolio/musicbrainz-knowledge-graph/"><meta property="og:image" content="https://arthurhaas.github.io/images/portfolio/musicbrainz-knowledge-graph/exampleGraph.png"><meta property="article:section" content="portfolio"><meta property="article:published_time" content="2021-04-05T12:42:00+01:00"><meta property="article:modified_time" content="2021-04-05T12:42:00+01:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://arthurhaas.github.io/images/portfolio/musicbrainz-knowledge-graph/exampleGraph.png"><meta name=twitter:title content="MusicBrainz Knowledge Graph"><meta name=twitter:description content="Motivation The master&rsquo;s course &ldquo;Building and Mining Knowledge Graphs&rdquo; required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz&rsquo; postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Portfolio","item":"https://arthurhaas.github.io/portfolio/"},{"@type":"ListItem","position":3,"name":"MusicBrainz Knowledge Graph","item":"https://arthurhaas.github.io/portfolio/musicbrainz-knowledge-graph/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MusicBrainz Knowledge Graph","name":"MusicBrainz Knowledge Graph","description":"Motivation The master\u0026rsquo;s course \u0026ldquo;Building and Mining Knowledge Graphs\u0026rdquo; required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz\u0026rsquo; postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project.","keywords":["knowledge graph"],"articleBody":"Motivation The master’s course “Building and Mining Knowledge Graphs” required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz’ postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project.\nThe code is on github: https://github.com/arthurhaas/um_project_knowledge_graph\nSteps The below figure illustrates my process of gathering the three datasets, converting them into triples a.k.a. creating a knowledge graph, linking all three, and storing them inside GraphDB for querying with SPARQL.\nTechnical setup of the project from data ingest to querying GraphDB.\n/1 Gather data As you see in the above illustration, I used three datasets. All of these datasets contain the country as a common entity, which will be used for linking later.\nMusicBrainz is a large collection of music data about artists, their albums, songs, etc. The Happiness Report indicates the population’s happiness. The report of the GDP per capita shows the economic status of a country. Downloading the three datasets and making them usable was the first step of the project. While the Happiness Report and GDP Data were combined around 0.5 MB, the size of the MusicBrainz dataset totals roughly 50 GBs. Hence, I had to make a choice about which part of the MusicBrainz data to use. I decided to use the core data for the knowledge graph. Furthermore, to make the MusicBrainz dataset usable, a setup concerning docker, postgreSQL, and mbdata was required. MusicBrainz recommends using mbdata instead of their own MusicBrainz Server System, in case the webserver is not required. Since I only need the dataset, mbdata was sufficient. To achieve this, I’ve set up an ubuntu docker base image and followed the tutorial on mbdata’s GitHub repository. This was not complete in terms of which commands to execute, hence I had to do a great amount of engineering research to make the database runnable. Details won’t be mentioned here but can be found in the corresponding Dockerfiles and readmes.\n/2 Conversion Before starting to convert the datasets, it is wise to conceptionalize the final knowledge graph. Next figure shows that.\nConcept of the knowledge graph to build to plan entity IRIs, relations and literals\nConversion method 1: YARRRML\nFor converting the happiness report csv file into the turtle syntax YARRRML was used, which is a YAML syntax for RML rules.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # column: Score hasHappinessScore: sources: - [\"../../data/happiness_report/2019_preprocessed.csv~csv\"] s: project_ontology:hasHappinessScore po: - [a, owl:DatatypeProperty] - [rdfs:label, 'Happiness score', en~lang] - [rdfs:comment, 'The world happiness score of a country, see https://www.wikidata.org/wiki/Q56258795. Part of the World Happiness Report, see https://www.wikidata.org/wiki/Q17090395.', en~lang] - [rdfs:domain, schema:AdministrativeArea~iri] - [rdfs:range, xsd:float~iri] Conversion method 2: Python with rdflib\nFor converting the GDP data, I have decided to experiment with a python library called rdflib. Using this was very flexible due to the programming language python. To convert the dataset, pandas was used to store the csv file and iterate it line by line. The tricky part was the binding of a namespace to make it appear as a correctly written prefix in turtle syntax.\nSource table:\nCountry Name Country Code Indicator Name … 2019 Germany DEU GDP per capita (current US$) … 46445.2491012508 Python code:\n1 2 3 4 5 6 7 # Create triples for index, row in df.iterrows(): # data g.add((URIRef(geonames[row['Country Code']+\"/\"]), URIRef(RDF.type), URIRef(schema.Country))) g.add((URIRef(geonames[row['Country Code']+\"/\"]), URIRef(RDFS.label), Literal(row['Country Name'], lang='en'))) g.add((URIRef(geonames[row['Country Code']+\"/\"]), URIRef(wikidata_predicate.P2132), Literal(row['2019'], datatype=XSD.float))) Resulting turtle syntax:\n1 2 3 a schema:Country ; rdfs:label \"Germany\"@en ; wikidata_predicate:P2132 \"46445.25\"^^xsd:float . Conversion method 3: plain RML on postgreSQL database\nThe most challenging dataset was MusicBrainz due to its complexity with over 200 tables. I have decided to use plain RML. To create a working connection to a postgreSQL server I had to look into RML test cases because the documentation is too sparse. In addition, I decided to split the RML mapping into files corresponding to entities like country, releases, release groups, and artists to avoid one large monolith job.\nA small extract from mapping the artists from postgreSQL to turtle using a query:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 \u003c#LogicalSource\u003e rml:source \u003c#DB_source\u003e; rr:sqlVersion rr:SQL2008; rml:query \"\"\" -- Musicbrainz Query 4 -- artists select rg.gid as release_group_gid, a.gid as gid, a.name as name, at2.name as type, g2.name as gender, a.comment as comment from release_group rg left join artist_credit_name acn on acn.artist_credit = rg.artist_credit left join artist a on a.id = acn.artist left join artist_type at2 on at2.id = a.\"type\" left join gender g2 on g2.id = a.gender where -- only release_groups with releases in year 2019 rg.id in ( select r.release_group from \"release\" r where id in (select \"release\" from release_country rc where rc.date_year = 2019 group by \"release\") ); \"\"\"; rml:referenceFormulation ql:CSV . a rr:TriplesMap; rml:logicalSource \u003c#LogicalSource\u003e; rr:subjectMap [ rr:template \"https://musicbrainz.org/artist/{gid}\"; rr:class music:MusicArtist; ]; rr:predicateObjectMap [ rr:predicate rdfs:label ; rr:objectMap [ rml:reference \"name\"; rr:datatype xsd:string ] ]; rr:predicateObjectMap [ rr:predicate music:artist_type ; rr:objectMap [ rr:template \"https://w3id.org/um/ken4256/project/mb/artistType/{type}\"; rr:termType rr:IRI ] ]; . \u003c#DB_source\u003e a d2rq:Database; d2rq:jdbcDSN \"jdbc:postgresql://0.0.0.0:5432/musicbrainz\"; d2rq:jdbcDriver \"org.postgresql.Driver\"; d2rq:username \"musicbrainz\"; d2rq:password \"it_works\" . /3 Linking For the link between GDP and MusicBrianz a mapping file from geonames was used because the link was made between and iso-2 and an iso-3 country code, straightforward. For the link between the happiness report and MusicBrainz on the other hand, LIMES was applied.\n/4 Query using SPARQL on GraphDB After conversion and linking, the data was loaded into GraphDB. The title illustration shows an overview of some entities and relations as they are displayed in GraphDB’s web app.\nAs an example, the following SPARQL query returns the total number of releases by country in descending order.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # Query - Country with most releases PREFIX music: PREFIX rdfs: PREFIX project_onto: PREFIX schema: PREFIX foaf: select ?country_name (count(distinct ?release) as ?release_count) where { ?release a music:Release; schema:addressCountry ?country. ?country a schema:Country; foaf:name ?country_name. } group by ?country_name order by desc(?release_count) limit 100 Next up Expanding the linking step from simple metrics by country to my Spotify listening history is the next step of this side-project. I collect my listening history by “scrobbling” to https://www.last.fm.\nFurther Spotify API’s I am interested in trying out:\nhttps://developer.spotify.com Research.spotify.com News.spotify.com https://backstage.io/ ","wordCount":"1165","inLanguage":"en","image":"https://arthurhaas.github.io/images/portfolio/musicbrainz-knowledge-graph/exampleGraph.png","datePublished":"2021-04-05T12:42:00+01:00","dateModified":"2021-04-05T12:42:00+01:00","author":{"@type":"Person","name":"Arthur"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://arthurhaas.github.io/portfolio/musicbrainz-knowledge-graph/"},"publisher":{"@type":"Organization","name":"arthurhaas.github.io","logo":{"@type":"ImageObject","url":"https://arthurhaas.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://arthurhaas.github.io accesskey=h title="arthurhaas.github.io (Alt + H)">arthurhaas.github.io</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://arthurhaas.github.io/pages/about title="about me"><span>about me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://arthurhaas.github.io>Home</a>&nbsp;»&nbsp;<a href=https://arthurhaas.github.io/portfolio/>Portfolio</a></div><h1 class=post-title>MusicBrainz Knowledge Graph</h1><div class=post-meta>April 5, 2021&nbsp;·&nbsp;Arthur</div></header><figure class=entry-cover><img loading=lazy src=https://arthurhaas.github.io/images/portfolio/musicbrainz-knowledge-graph/exampleGraph.png alt="knowledge graph"><p>Extract of final knowledge graph</p></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#motivation aria-label=Motivation>Motivation</a></li><li><a href=#steps aria-label=Steps>Steps</a><ul><li><a href=#1-gather-data aria-label="/1 Gather data">/1 Gather data</a></li><li><a href=#2-conversion aria-label="/2 Conversion">/2 Conversion</a></li><li><a href=#3-linking aria-label="/3 Linking">/3 Linking</a></li><li><a href=#4-query-using-sparql-on-graphdb aria-label="/4 Query using SPARQL on GraphDB">/4 Query using SPARQL on GraphDB</a></li></ul></li><li><a href=#next-up aria-label="Next up">Next up</a></li></ul></div></details></div><div class=post-content><h2 id=motivation>Motivation<a hidden class=anchor aria-hidden=true href=#motivation>#</a></h2><p>The master&rsquo;s course &ldquo;Building and Mining Knowledge Graphs&rdquo; required us to work on an individual project. I decided to challenge myself with accessing and converting the MusicBrainz dataset into a knowledge graph before linking it to a few metrics for each country existing in it. Thereby deploying the MusicBrainz&rsquo; postgreSQL database using docker, and focussing on the research of conversion by using three different approaches. The linking part on the other hand turned out to be too easy, hence I plan to connect the MusicBrainz dataset to my Spotify listening history in a follow-up project.</p><p>The code is on github: <a href=https://github.com/arthurhaas/um_project_knowledge_graph target=_blank rel=noopener>https://github.com/arthurhaas/um_project_knowledge_graph</a></p><h2 id=steps>Steps<a hidden class=anchor aria-hidden=true href=#steps>#</a></h2><p>The below figure illustrates my process of gathering the three datasets, converting them into triples a.k.a. creating a knowledge graph, linking all three, and storing them inside GraphDB for querying with SPARQL.</p><figure><img loading=lazy src=/images/portfolio/musicbrainz-knowledge-graph/project_setup.png alt="Project setup"><figcaption><p>Technical setup of the project from data ingest to querying GraphDB.</p></figcaption></figure><h3 id=1-gather-data>/1 Gather data<a hidden class=anchor aria-hidden=true href=#1-gather-data>#</a></h3><p>As you see in the above illustration, I used three datasets. All of these datasets contain the country as a common entity, which will be used for linking later.</p><ol><li>MusicBrainz is a large collection of music data about artists, their albums, songs, etc.</li><li>The Happiness Report indicates the population’s happiness.</li><li>The report of the GDP per capita shows the economic status of a country.</li></ol><p>Downloading the three datasets and making them usable was the first step of the project. While the Happiness Report and GDP Data were combined around 0.5 MB, the size of the MusicBrainz dataset totals roughly 50 GBs. Hence, I had to make a choice about which part of the MusicBrainz data to use. I decided to use the core data for the knowledge graph. Furthermore, to make the MusicBrainz dataset usable, a setup concerning docker, postgreSQL, and <a href=https://github.com/lalinsky/mbdata target=_blank rel=noopener>mbdata</a> was required. MusicBrainz recommends using mbdata instead of their own MusicBrainz Server System, in case the webserver is not required. Since I only need the dataset, mbdata was sufficient. To achieve this, I’ve set up an ubuntu docker base image and followed the tutorial on mbdata&rsquo;s GitHub repository. This was not complete in terms of which commands to execute, hence I had to do a great amount of engineering research to make the database runnable. Details won’t be mentioned here but can be found in the corresponding <a href=https://github.com/arthurhaas/um_project_knowledge_graph/tree/main/data/musicbrainz target=_blank rel=noopener>Dockerfiles and readmes</a>.</p><h3 id=2-conversion>/2 Conversion<a hidden class=anchor aria-hidden=true href=#2-conversion>#</a></h3><p>Before starting to convert the datasets, it is wise to conceptionalize the final knowledge graph. Next figure shows that.</p><p><figure><img loading=lazy src=/images/portfolio/musicbrainz-knowledge-graph/kg_conceptionalisation.png alt="Knowledge Graph Conceptionalisation"><figcaption><p>Concept of the knowledge graph to build to plan entity IRIs, relations and literals</p></figcaption></figure></br></p><p><em>Conversion method 1: YARRRML</em></p><p>For converting the happiness report csv file into the turtle syntax <a href=https://rml.io/yarrrml/tutorial/getting-started/ target=_blank rel=noopener>YARRRML</a> was used, which is a YAML syntax for <a href=https://rml.io/specs/rml/ target=_blank rel=noopener>RML</a> rules.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-YAML data-lang=YAML><span style=display:flex><span><span style=color:#75715e># column: Score</span>
</span></span><span style=display:flex><span><span style=color:#f92672>hasHappinessScore</span>:
</span></span><span style=display:flex><span><span style=color:#f92672>sources</span>:
</span></span><span style=display:flex><span>    - [<span style=color:#e6db74>&#34;../../data/happiness_report/2019_preprocessed.csv~csv&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#f92672>s</span>: <span style=color:#ae81ff>project_ontology:hasHappinessScore</span>
</span></span><span style=display:flex><span><span style=color:#f92672>po</span>:
</span></span><span style=display:flex><span>    - [<span style=color:#ae81ff>a, owl:DatatypeProperty]</span>
</span></span><span style=display:flex><span>    - [<span style=color:#ae81ff>rdfs:label, &#39;Happiness score&#39;, en~lang]</span>
</span></span><span style=display:flex><span>    - [<span style=color:#ae81ff>rdfs:comment, &#39;The world happiness score of a country, see</span>
</span></span><span style=display:flex><span>                      <span style=color:#ae81ff>https://www.wikidata.org/wiki/Q56258795.</span>
</span></span><span style=display:flex><span>                      <span style=color:#ae81ff>Part of the World Happiness Report, see</span>
</span></span><span style=display:flex><span>                      <span style=color:#ae81ff>https://www.wikidata.org/wiki/Q17090395.&#39;, en~lang]</span>
</span></span><span style=display:flex><span>    - [<span style=color:#ae81ff>rdfs:domain, schema:AdministrativeArea~iri]</span>
</span></span><span style=display:flex><span>    - [<span style=color:#ae81ff>rdfs:range, xsd:float~iri]</span>
</span></span></code></pre></td></tr></table></div></div></br><p><em>Conversion method 2: Python with rdflib</em></p><p>For converting the GDP data, I have decided to experiment with a python library called <a href=https://rdflib.readthedocs.io/en/stable/ target=_blank rel=noopener>rdflib</a>. Using this was very flexible due to the programming language python. To convert the dataset, pandas was used to store the csv file and iterate it line by line. The tricky part was the binding of a namespace to make it appear as a correctly written prefix in turtle syntax.</p><p>Source table:</p><table><thead><tr><th>Country Name</th><th>Country Code</th><th>Indicator Name</th><th>&mldr;</th><th>2019</th></tr></thead><tbody><tr><td>Germany</td><td>DEU</td><td>GDP per capita (current US$)</td><td>&mldr;</td><td>46445.2491012508</td></tr></tbody></table><p>Python code:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Create triples</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> index, row <span style=color:#f92672>in</span> df<span style=color:#f92672>.</span>iterrows():
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># data</span>
</span></span><span style=display:flex><span>    g<span style=color:#f92672>.</span>add((URIRef(geonames[row[<span style=color:#e6db74>&#39;Country Code&#39;</span>]<span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/&#34;</span>]), URIRef(RDF<span style=color:#f92672>.</span>type), URIRef(schema<span style=color:#f92672>.</span>Country)))
</span></span><span style=display:flex><span>    g<span style=color:#f92672>.</span>add((URIRef(geonames[row[<span style=color:#e6db74>&#39;Country Code&#39;</span>]<span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/&#34;</span>]), URIRef(RDFS<span style=color:#f92672>.</span>label), Literal(row[<span style=color:#e6db74>&#39;Country Name&#39;</span>], lang<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;en&#39;</span>)))
</span></span><span style=display:flex><span>    g<span style=color:#f92672>.</span>add((URIRef(geonames[row[<span style=color:#e6db74>&#39;Country Code&#39;</span>]<span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/&#34;</span>]), URIRef(wikidata_predicate<span style=color:#f92672>.</span>P2132), Literal(row[<span style=color:#e6db74>&#39;2019&#39;</span>], datatype<span style=color:#f92672>=</span>XSD<span style=color:#f92672>.</span>float)))
</span></span></code></pre></td></tr></table></div></div><p>Resulting turtle syntax:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-turtle data-lang=turtle><span style=display:flex><span>&lt;https://www.geonames.org/countries/DEU/&gt; <span style=color:#66d9ef>a</span> schema:<span style=color:#f92672>Country</span> ;
</span></span><span style=display:flex><span>    rdfs:<span style=color:#f92672>label</span> <span style=color:#e6db74>&#34;Germany&#34;</span><span style=color:#f92672>@</span><span style=font-style:italic>en</span> ;
</span></span><span style=display:flex><span>    wikidata_predicate:<span style=color:#f92672>P2132</span> <span style=color:#e6db74>&#34;46445.25&#34;</span><span style=color:#f92672>^^</span><span style=font-style:italic>xsd:float</span> .
</span></span></code></pre></td></tr></table></div></div></br><p><em>Conversion method 3: plain RML on postgreSQL database</em></p><p>The most challenging dataset was MusicBrainz due to its complexity with over 200 tables. I have decided to use plain <a href=https://rml.io/specs/rml/ target=_blank rel=noopener>RML</a>. To create a working connection to a postgreSQL server I had to look into <a href=https://rml.io/test-cases/#rmltc0001a-postgresql target=_blank rel=noopener>RML test cases</a> because the documentation is too sparse. In addition, I decided to split the RML mapping into files corresponding to entities like country, releases, release groups, and artists to avoid one large monolith job.</p><p>A small extract from mapping the artists from postgreSQL to turtle using a query:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&lt;#LogicalSource&gt;
</span></span><span style=display:flex><span>  rml:source &lt;#DB_source&gt;;
</span></span><span style=display:flex><span>    rr:sqlVersion rr:SQL2008;
</span></span><span style=display:flex><span>    rml:query
</span></span><span style=display:flex><span>    &#34;&#34;&#34;
</span></span><span style=display:flex><span>    -- Musicbrainz Query 4
</span></span><span style=display:flex><span>    -- artists
</span></span><span style=display:flex><span>    select
</span></span><span style=display:flex><span>      rg.gid as release_group_gid,
</span></span><span style=display:flex><span>      a.gid as gid,
</span></span><span style=display:flex><span>      a.name as name,
</span></span><span style=display:flex><span>      at2.name as type,
</span></span><span style=display:flex><span>      g2.name as gender,
</span></span><span style=display:flex><span>      a.comment as comment
</span></span><span style=display:flex><span>    from release_group rg
</span></span><span style=display:flex><span>    left join artist_credit_name acn on acn.artist_credit = rg.artist_credit
</span></span><span style=display:flex><span>    left join artist a on a.id = acn.artist 
</span></span><span style=display:flex><span>    left join artist_type at2 on at2.id = a.&#34;type&#34;
</span></span><span style=display:flex><span>    left join gender g2 on g2.id = a.gender 
</span></span><span style=display:flex><span>    where
</span></span><span style=display:flex><span>      -- only release_groups with releases in year 2019
</span></span><span style=display:flex><span>      rg.id in (
</span></span><span style=display:flex><span>        select r.release_group
</span></span><span style=display:flex><span>        from &#34;release&#34; r
</span></span><span style=display:flex><span>        where id in (select &#34;release&#34; from release_country rc where rc.date_year = 2019 group by &#34;release&#34;)
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    &#34;&#34;&#34;;
</span></span><span style=display:flex><span>    rml:referenceFormulation ql:CSV
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;TriplesMap_Artists&gt;
</span></span><span style=display:flex><span>  a rr:TriplesMap;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  rml:logicalSource &lt;#LogicalSource&gt;;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  rr:subjectMap [
</span></span><span style=display:flex><span>      rr:template &#34;https://musicbrainz.org/artist/{gid}&#34;;
</span></span><span style=display:flex><span>      rr:class music:MusicArtist;
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    rr:predicateObjectMap [
</span></span><span style=display:flex><span>      rr:predicate rdfs:label ;
</span></span><span style=display:flex><span>      rr:objectMap [
</span></span><span style=display:flex><span>        rml:reference &#34;name&#34;;
</span></span><span style=display:flex><span>        rr:datatype xsd:string
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    rr:predicateObjectMap [
</span></span><span style=display:flex><span>      rr:predicate music:artist_type ;
</span></span><span style=display:flex><span>      rr:objectMap [
</span></span><span style=display:flex><span>        rr:template &#34;https://w3id.org/um/ken4256/project/mb/artistType/{type}&#34;;
</span></span><span style=display:flex><span>        rr:termType rr:IRI
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;#DB_source&gt; a d2rq:Database;
</span></span><span style=display:flex><span>  d2rq:jdbcDSN &#34;jdbc:postgresql://0.0.0.0:5432/musicbrainz&#34;;
</span></span><span style=display:flex><span>  d2rq:jdbcDriver &#34;org.postgresql.Driver&#34;;
</span></span><span style=display:flex><span>  d2rq:username &#34;musicbrainz&#34;;
</span></span><span style=display:flex><span>  d2rq:password &#34;it_works&#34; .
</span></span></code></pre></td></tr></table></div></div><h3 id=3-linking>/3 Linking<a hidden class=anchor aria-hidden=true href=#3-linking>#</a></h3><p>For the link between GDP and MusicBrianz a mapping file from <a href=https://download.geonames.org/export/dump/countryInfo.txt target=_blank rel=noopener>geonames</a> was used because the link was made between and iso-2 and an iso-3 country code, straightforward. For the link between the happiness report and MusicBrainz on the other hand, <a href=https://github.com/dice-group/LIMES target=_blank rel=noopener>LIMES</a> was applied.</p><h3 id=4-query-using-sparql-on-graphdb>/4 Query using SPARQL on GraphDB<a hidden class=anchor aria-hidden=true href=#4-query-using-sparql-on-graphdb>#</a></h3><p>After conversion and linking, the data was loaded into <a href=https://www.ontotext.com/products/graphdb/ target=_blank rel=noopener>GraphDB</a>. The title illustration shows an overview of some entities and relations as they are displayed in GraphDB&rsquo;s web app.</p><p>As an example, the following SPARQL query returns the total number of releases by country in descending order.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SPARQL data-lang=SPARQL><span style=display:flex><span><span style=color:#75715e># Query - Country with most releases</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>PREFIX</span> music: &lt;http://purl.org/ontology/mo/&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>PREFIX</span> rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>PREFIX</span> project_onto: &lt;https://w3id.org/um/ken4256/project/mb/ontology/&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>PREFIX</span> schema: &lt;https://schema.org/&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>PREFIX</span> foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>select</span> ?country_name (<span style=color:#a6e22e>count</span>(<span style=color:#66d9ef>distinct</span> ?release) <span style=color:#66d9ef>as</span> ?release_count)
</span></span><span style=display:flex><span><span style=color:#66d9ef>where</span> { 
</span></span><span style=display:flex><span>    ?release <span style=color:#66d9ef>a</span> music:<span style=color:#f92672>Release</span>;
</span></span><span style=display:flex><span>             schema:<span style=color:#f92672>addressCountry</span> ?country.
</span></span><span style=display:flex><span>    ?country <span style=color:#66d9ef>a</span> schema:<span style=color:#f92672>Country</span>;
</span></span><span style=display:flex><span>             foaf:<span style=color:#f92672>name</span> ?country_name.
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>group by</span> ?country_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>order by</span> <span style=color:#66d9ef>desc</span>(?release_count)
</span></span><span style=display:flex><span><span style=color:#66d9ef>limit</span> <span style=color:#ae81ff>100</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=next-up>Next up<a hidden class=anchor aria-hidden=true href=#next-up>#</a></h2><p>Expanding the linking step from simple metrics by country to my Spotify listening history is the next step of this side-project. I collect my listening history by &ldquo;scrobbling&rdquo; to <a href=https://www.last.fm target=_blank rel=noopener>https://www.last.fm</a>.</p><p>Further Spotify API&rsquo;s I am interested in trying out:</p><ul><li><a href=https://developer.spotify.com/ target=_blank rel=noopener>https://developer.spotify.com</a></li><li><a href=http://research.spotify.com/ target=_blank rel=noopener>Research.spotify.com</a></li><li><a href=http://news.spotify.com/ target=_blank rel=noopener>News.spotify.com</a></li><li><a href=https://backstage.io/ target=_blank rel=noopener>https://backstage.io/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://arthurhaas.github.io/tags/knowledge-graph/>knowledge graph</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://arthurhaas.github.io>arthurhaas.github.io</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var TxtRotate=function(e,t,n){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(n,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtRotate.prototype.tick=function(){var e,n,s=this.loopNum%this.toRotate.length,t=this.toRotate[s];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>",n=this,e=100-Math.random()*50,this.isDeleting&&(e/=2),!this.isDeleting&&this.txt===t?(e=this.period,this.isDeleting=!0):this.isDeleting&&this.txt===""&&(this.isDeleting=!1,this.loopNum++,e=500),setTimeout(function(){n.tick()},e)},window.onload=function(){for(var n,s,o,t=document.getElementsByClassName("txt-rotate"),e=0;e<t.length;e++)s=t[e].getAttribute("data-rotate"),o=t[e].getAttribute("data-period"),s&&new TxtRotate(t[e],JSON.parse(s),o);n=document.createElement("style"),n.type="text/css",n.innerHTML=".txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(n)}</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>